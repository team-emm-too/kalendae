(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{174:function(e,t,a){e.exports=a(312)},179:function(e,t,a){},180:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),o=a.n(l),i=(a(179),a(140)),s=a(141),c=a(142),u=a(162),p=a(161),h=(a(180),a(181),a(325)),m=a(326),d=a(327),E=a(323),v=a(322),y=a(324),g=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={eventName:"",eventLocation:"",start:"",end:"",eventDescription:"",repeat:"",class:"",priority:"",error:[],timezone:"",RSVP:!1,toRSVP:"",GEO:"",sender:"",repeatOptions:[{key:"n",value:"",text:"No Repeat"},{key:"d",value:"DAILY",text:"Daily"},{key:"w",value:"WEEKLY",text:"Weekly"},{key:"m",value:"MONTHLY",text:"Monthly"},{key:"y",value:"YEARLY",text:"Yearly"}],classOptions:[{key:"u",value:"PUBLIC",text:"Public"},{key:"r",value:"PRIVATE",text:"Private"},{key:"CONFIDENTIAL",text:"Confidential"}],priorityOptions:[{key:"h",value:"1",text:"High"},{key:"m",value:"5",text:"Medium"},{key:"l",value:"9",text:"Low"}]},e.submit=function(t){t.preventDefault();var a=document.createElement("a"),n=new Date,r=!1,l=[];new Date(e.state.start)>new Date(e.state.end)&&(r=!0,l.push("The event start date cannot be later than the event end date!"));var o=n.getFullYear()+"0"+(n.getMonth()+1)+("0"+n.getDate()).slice(-2)+"T"+("0"+n.getHours()).slice(-2)+("0"+n.getMinutes()).slice(-2)+("0"+n.getSeconds()).slice(-2),i="",s="",c="",u=Intl.DateTimeFormat().resolvedOptions().timeZone,p="";""!==e.state.repeat&&(i+="RRULE:FREQ="+e.state.repeat+"\r\n"),""!==e.state.class&&(s+="CLASS:"+e.state.class+"\r\n"),""!==e.state.priority&&(c+="PRIORITY:"+e.state.priority+"\r\n"),!0===e.state.RSVP&&(p="ATTENDEE;CUTYPE=INDIVIDUAL;ROLE=REQ-PARTICIPANT;PARTSTAT=NEEDS-ACTION;RSVP=TRUE:MAILTO:"+e.state.toRSVP+"\r\n"),a.setAttribute("href","data:text/calendar;charset=utf-8,BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:-//Team-emm-too//Kalendae//EN\r\nCALSCALE:GREGORIAN\r\nMETHOD:PUBLISH\r\n"+e.state.timezone+"\r\nBEGIN:VEVENT\r\nUID:"+o+"-kalendae@ics414.com\r\nSEQUENCE:0\r\nDTSTAMP;TZID="+u+":"+o+"\r\nDTSTART;TZID="+u+":"+e.state.start.split("-").join("").replace(":","")+"00\r\nDTEND;TZID="+u+":"+e.state.end.split("-").join("").replace(":","")+"00\r\nSUMMARY:"+e.state.eventName+"\r\nDESCRIPTION:"+e.state.eventDescription+"\r\nLOCATION:"+e.state.eventLocation+"\r\nGEO:"+e.state.GEO+"\r\n"+i+s+c+"ORGANIZER:MAILTO:"+e.state.sender+"\r\n"+p+"END:VEVENT\r\nEND:VCALENDAR\r\n"),r?(console.log("error"),e.setState({error:l})):(a.setAttribute("download",e.state.eventName+".ics"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),e.setState({eventName:"",eventLocation:"",start:"",end:"",repeat:"",class:"",priority:"",eventDescription:"",error:[]}))},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.handlePlaceChange=function(t){e.setState({eventLocation:t.formatted_address,GEO:"".concat(t.geometry.location.lat(),";").concat(t.geometry.location.lng())})},e.showRSVP=function(){e.setState({RSVP:!e.state.RSVP})},e.initAutocomplete=function(){var t=document.getElementById("pac-input"),a=new window.google.maps.places.Autocomplete(t);a.addListener("place_changed",(function(){var t=a.getPlace();e.handlePlaceChange(t)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=new XMLHttpRequest;t.responseType="text",t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=t.response.split("\r\n"),a=e.slice(e.indexOf("BEGIN:VTIMEZONE"),e.indexOf("END:VTIMEZONE")+1).join("\r\n");this.setState({timezone:a})}}.bind(this),t.open("GET","https://cors-anywhere.herokuapp.com/http://tzurl.org/zoneinfo-outlook/".concat(e)),t.send(),this.initAutocomplete()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(h.a,null,r.a.createElement(m.a,{as:"h1"},"Kalendae")),r.a.createElement(d.a,{container:!0},r.a.createElement(d.a.Column,null,r.a.createElement(m.a,{as:"h2",textAlign:"center",className:"white"},"Add an Event!"),r.a.createElement(E.a,{onSubmit:this.submit,error:!0},r.a.createElement(E.a.Input,{required:!0,fluid:!0,name:"eventName",value:this.state.eventName,label:"Event Name",placeholder:"Ex. New Year Party",onChange:this.handleChange}),r.a.createElement(E.a.Group,{widths:"equal"},r.a.createElement(E.a.Input,{id:"pac-input",required:!0,name:"eventLocation",value:this.state.eventLocation,label:"Location",placeholder:"Ex. 1234 Foo St. Honolulu, HI 96821",onChange:this.handleChange}),r.a.createElement(E.a.Input,{required:!0,name:"start",value:this.state.start,label:"Start Date",type:"datetime-local",onChange:this.handleChange}),r.a.createElement(E.a.Input,{required:!0,name:"end",value:this.state.end,label:"End Date",type:"datetime-local",onChange:this.handleChange})),r.a.createElement(E.a.Group,{widths:"equal"},r.a.createElement(E.a.Select,{name:"repeat",value:this.state.repeat,label:"Repeat",options:this.state.repeatOptions,onChange:function(t,a){var n=a.value;e.setState({repeat:n})}}),r.a.createElement(E.a.Select,{name:"classification",value:this.state.class,label:"Classification",options:this.state.classOptions,onChange:function(t,a){var n=a.value;e.setState({class:n})}}),r.a.createElement(E.a.Select,{name:"priority",value:this.state.priority,label:"Priority",options:this.state.priorityOptions,onChange:function(t,a){var n=a.value;e.setState({priority:n})}})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Radio,{name:"RSVP",label:"RSVP",toggle:!0,onChange:this.showRSVP}),!0===this.state.RSVP?r.a.createElement(E.a.Input,{required:!0,type:"email",value:this.state.toRSVP,multiple:!0,name:"toRSVP",label:"RSVP To",placeholder:"Ex. attendee@email.com",onChange:this.handleChange}):"",!0===this.state.RSVP?r.a.createElement(E.a.Input,{required:!0,type:"email",value:this.state.sender,name:"sender",label:"Sender Email",placeholder:"Ex. sender@email.com",onChange:this.handleChange}):""),r.a.createElement(E.a.Input,{name:"eventDescription",value:this.state.eventDescription,control:v.a,label:"Event Description",placeholder:"Ex. New Year Party",onChange:this.handleChange}),r.a.createElement(E.a.Button,null,"Submit"),0!==this.state.error.length?r.a.createElement(y.a,{error:!0,header:"Action Forbidden",list:this.state.error}):""),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),a}(r.a.Component);o.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.b01d51e1.chunk.js.map